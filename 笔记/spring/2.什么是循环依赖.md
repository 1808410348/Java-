##### 面试题

解释Spring中的三级缓存?

三级缓存分别是什么？三个Map有什么异同？

什么是循环依赖？一般我们说spring容器是什么？

如何检测是否存在循环依赖？实际开发中见过循坏依赖的异常吗？

多例情况下，循环依赖问题为什么无法解决？

#### 什么是循坏依赖

多个bean之间的互相依赖，形成一个闭环；比如A依赖于B，B依赖于C，C依赖于A

```java
public class T1 {

    class A{
        B b;
    }
    class B{
        C c;
    }
    class C{
        A a;
    }
}
 
比如：A依赖于B、B依赖于C、C依赖于A
```

通常来说，如果问Spring容器内部如何解决循环依赖，**一定是指默认的单例Bean中**，属性互相引用的场景

![循环依赖](images/循环依赖.jpg)

#### 两种注入方式对循环依赖的影响

两种循环方式指的是构造方法注入和get set方法注入。

循环依赖官网说明(https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-dependency-resolution)

![循环依赖官网解释](images/循环依赖官网解释.jpg)



**结论**
我们AB循环依赖问题只要A的注入方式是setter且singleton，就不会有循环依赖问题。

